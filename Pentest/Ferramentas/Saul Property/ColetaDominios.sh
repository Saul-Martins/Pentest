#!/bin/bash

read -p "Qual o nome do domínio que você deseja usar? " domain

echo "$domain" | dnsgen - | httpx -silent | sort -u > sub1.txt && \
findomain --target "$domain" -q | grep -Eo '[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}' | httpx -silent | sort -u > sub2.txt && \
findomain -f sub1.txt -q | grep -Eo '[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}' | httpx -silent | sort -u > sub3.txt && \
subfinder -d "$domain" -silent -recursive -timeout 10 -max-time 30 | httpx -silent | sort -u > sub4.txt && \
findomain -f sub4.txt -q | grep -Eo '[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}' | httpx -silent | sort -u > sub5.txt && \
cat sub1.txt sub2.txt sub3.txt sub4.txt sub5.txt | sed 's~http[s]\?://~~g' | sort -u | tee submundo.txt && \
subfinder -dL submundo.txt -silent | sort -u | tee sub10.txt && \
echo "Total de subdomínios encontrados:" && \
wc -l sub10.txt